# Donation Hub - ICP DApp

DApp –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞–º–ø–∞–Ω—ñ–π –∑–±–æ—Ä—É –∫–æ—à—Ç—ñ–≤ –Ω–∞ Internet Computer –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ Internet Identity.

## –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Internet Identity
- üéØ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞–º–ø–∞–Ω—ñ–π –∑–±–æ—Ä—É –∫–æ—à—Ç—ñ–≤
- üì± QR-–∫–æ–¥–∏ –¥–ª—è –ø–æ—à–∏—Ä–µ–Ω–Ω—è –∫–∞–º–ø–∞–Ω—ñ–π
- üí∞ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö –≤–∞–ª—é—Ç (ICP, BTC, ETH, USDT)
- üé® –°—É—á–∞—Å–Ω–∏–π UI –∑ Tailwind CSS

## –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Backend**: Motoko (Internet Computer)
- **Frontend**: React + TypeScript + Vite
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è**: Internet Identity
- **–°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è**: Tailwind CSS

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å [DFX](https://internetcomputer.org/docs/current/developer-docs/setup/install/)
2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Node.js (–≤–µ—Ä—Å—ñ—è 16 –∞–±–æ –≤–∏—â–µ)

### –ö—Ä–æ–∫–∏ –∑–∞–ø—É—Å–∫—É

1. **–ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π**
   ```bash
   git clone <repository-url>
   cd notonlybitcointips
   ```

2. **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É**
   ```bash
   cd frontend
   npm install
   cd ..
   ```

3. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å –ª–æ–∫–∞–ª—å–Ω—É –º–µ—Ä–µ–∂—É Internet Computer**
   ```bash
   dfx start --clean --background
   ```

4. **–†–æ–∑–≥–æ—Ä–Ω—ñ—Ç—å canisters**
   ```bash
   dfx deploy
   ```

5. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —É —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–∫–∏**
   ```bash
   cd frontend
   npm run dev
   ```

6. **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ canister IDs –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏**
   ```bash
   # –°–∫–æ–ø—ñ—é–π—Ç–µ —à–∞–±–ª–æ–Ω
   cp canister_ids.json.example canister_ids.json
   
   # –û—Ç—Ä–∏–º–∞–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ñ canister IDs
   dfx canister id frontend
   dfx canister id user_canister
   dfx canister id internet_identity
   
   # –û–Ω–æ–≤—ñ—Ç—å canister_ids.json –∑ –æ—Ç—Ä–∏–º–∞–Ω–∏–º–∏ ID
   ```

7. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä**
   - –õ–æ–∫–∞–ª—å–Ω–∏–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥: http://localhost:5173
   - –†–æ–∑–≥–æ—Ä–Ω—É—Ç–∏–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥: http://127.0.0.1:4943

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–æ–¥–∞—Ç–æ–∫ —É –±—Ä–∞—É–∑–µ—Ä—ñ
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–£–≤—ñ–π—Ç–∏ —á–µ—Ä–µ–∑ Internet Identity"
3. –°–ª—ñ–¥—É–π—Ç–µ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–±–æ –≤—Ö–æ–¥—É –≤ Internet Identity
4. –ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ—ó –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ —Å–≤—ñ–π Principal ID

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞–º–ø–∞–Ω—ñ—ó

1. –ü—ñ—Å–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –∑–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞–º–ø–∞–Ω—ñ—ó
3. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –Ω–∞–∑–≤—É, –æ–ø–∏—Å —Ç–∞ –≤–∏–±–µ—Ä—ñ—Ç—å –≤–∞–ª—é—Ç–∏ –¥–ª—è –¥–æ–Ω–∞—Ç—ñ–≤
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–∞–º–ø–∞–Ω—ñ—é"
5. –°–∫–æ–ø—ñ—é–π—Ç–µ –ª—ñ–Ω–∫ –∞–±–æ QR-–∫–æ–¥ –¥–ª—è –ø–æ—à–∏—Ä–µ–Ω–Ω—è

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
notonlybitcointips/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ user_canister.mo      # Motoko canister
‚îÇ   ‚îî‚îÄ‚îÄ user_canister.did     # Candid interface
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.tsx           # –ì–æ–ª–æ–≤–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MainApp.tsx       # –û—Å–Ω–æ–≤–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—î—é
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CampaignPage.tsx  # –°—Ç–æ—Ä—ñ–Ω–∫–∞ –∫–∞–º–ø–∞–Ω—ñ—ó
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ canisters/        # –ì–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ —Ñ–∞–π–ª–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ canisters
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.ts
‚îî‚îÄ‚îÄ dfx.json                  # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è DFX
```

## Internet Identity

–ü—Ä–æ–µ–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Internet Identity –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤. –ü—Ä–∏ –ª–æ–∫–∞–ª—å–Ω—ñ–π —Ä–æ–∑—Ä–æ–±—Ü—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–∏–π Internet Identity canister.

## –õ–æ–∫–∞–ª—å–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è canister IDs

–ü—ñ—Å–ª—è –∫–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é —Ç–∞ –ø–µ—Ä—à–æ–≥–æ –∑–∞–ø—É—Å–∫—É:

1. **–°–∫–æ–ø—ñ—é–π—Ç–µ —à–∞–±–ª–æ–Ω canister IDs:**
   ```bash
   cp canister_ids.json.example canister_ids.json
   ```

2. **–û—Ç—Ä–∏–º–∞–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ñ canister IDs:**
   ```bash
   dfx canister id frontend
   dfx canister id user_canister  
   dfx canister id internet_identity
   ```

3. **–û–Ω–æ–≤—ñ—Ç—å canister_ids.json –∑ –æ—Ç—Ä–∏–º–∞–Ω–∏–º–∏ ID**

4. **–°—Ç–≤–æ—Ä—ñ—Ç—å .env —Ñ–∞–π–ª –¥–ª—è frontend:**
   ```bash
   cd frontend
   echo "VITE_CANISTER_ID_USER_CANISTER=YOUR_LOCAL_USER_CANISTER_ID" > .env
   echo "VITE_CANISTER_ID_INTERNET_IDENTITY=YOUR_LOCAL_INTERNET_IDENTITY_ID" >> .env
   echo "VITE_CANISTER_HOST=http://127.0.0.1:4943" >> .env
   echo "DFX_NETWORK=local" >> .env
   ```

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** `canister_ids.json` –Ω–µ –∫–æ–º—ñ—Ç–∏—Ç—å—Å—è –≤ git, –æ—Å–∫—ñ–ª—å–∫–∏ –º—ñ—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ñ canister IDs, —è–∫—ñ –∑–º—ñ–Ω—é—é—Ç—å—Å—è –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É.

## –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –≤ Mainnet

–î–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –≤ Internet Computer mainnet –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Å–∫—Ä–∏–ø—Ç:

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
./scripts/deploy-to-mainnet.sh
```

–ê–±–æ –≤–∏–∫–æ–Ω–∞–π—Ç–µ –∫—Ä–æ–∫–∏ –≤—Ä—É—á–Ω—É:

1. **–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –∞–∫–∞—É–Ω—Ç—É**
   - –°—Ç–≤–æ—Ä—ñ—Ç—å Internet Identity: https://identity.ic0.app/
   - –ü–æ–ø–æ–≤–Ω—ñ—Ç—å –±–∞–ª–∞–Ω—Å ICP: https://nns.ic0.app/
   - –ù–∞–ª–∞—à—Ç—É–π—Ç–µ dfx identity: `dfx identity new mainnet-identity`

2. **–†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è**
```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è canisters
dfx canister --network ic create --all

# –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è backend
dfx deploy --network ic user_canister

# –û–Ω–æ–≤–ª–µ–Ω–Ω—è canister IDs
node scripts/update-canister-ids.js

# –ó–±—ñ—Ä–∫–∞ —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è frontend
cd frontend && npm run build && cd ..
dfx deploy --network ic frontend
```

–î–µ—Ç–∞–ª—å–Ω–∏–π –≥—ñ–¥: [DEPLOYMENT.md](./DEPLOYMENT.md)

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –º–µ—Ä–µ–∂

- **–õ–æ–∫–∞–ª—å–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞**: `http://rdmx6-jaaaa-aaaaa-aaadq-cai.localhost:4943`
- **Mainnet**: `https://identity.ic0.app`

## –†–æ–∑—Ä–æ–±–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É

–î–ª—è —à–≤–∏–¥–∫–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–∏–π —Å–µ—Ä–≤–µ—Ä:

```bash
cd frontend
npm run dev
```

–¶–µ –¥–æ–∑–≤–æ–ª–∏—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Hot Module Reloading –¥–ª—è –º–∏—Ç—Ç—î–≤–∏—Ö –∑–º—ñ–Ω.

### –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –∑–º—ñ–Ω

–ü—ñ—Å–ª—è –≤–Ω–µ—Å–µ–Ω–Ω—è –∑–º—ñ–Ω —É –∫–æ–¥:

```bash
# –î–ª—è –∑–º—ñ–Ω —É backend
dfx deploy

# –î–ª—è –∑–º—ñ–Ω —É frontend
dfx deploy frontend
```

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License
